<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="HappyHours">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icons/icon-512x512.png">
    <link rel="apple-touch-startup-image" href="icons/splash.png">
    <link rel="manifest" href="/manifest.json">
    <title>Hora Feliz</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: white;
            min-height: 100vh;
        }
        #content {
            margin-top: 0.5cm;
        }
        .tab, button, #peso {
            font-size: 20px;
        }
    </style>
</head>
<body>
<div id="adContainer"></div>
<div class="container transition-screen">
    <div id="content" style="margin-top: 1cm;">
        <div id="calorias">
            <div id="screen1" class="screen active">
                <div class="gender-symbols">
                    <div style="text-align: center;">
                        <svg id="maleSymbol" class="gender-symbol" viewBox="0 0 24 24" onclick="selectGender('male')">
                            <path d="M20 4V8H16V4H20M22 2H14V10H22V2M11 8C7.14 8 4 11.14 4 15C4 18.86 7.14 22 11 22C14.86 22 18 18.86 18 15C18 11.14 14.86 8 11 8M11 10C13.76 10 16 12.24 16 15C16 17.76 13.76 20 11 20C8.24 20 6 17.76 6 15C6 12.24 8.24 10 11 10Z"/>
                        </svg>
                        <div style="color: #666; font-size: 12px; margin-top: 5px;">Hombre</div>
                    </div>
                    <div style="text-align: center;">
                        <svg id="femaleSymbol" class="gender-symbol" viewBox="0 0 24 24" onclick="selectGender('female')">
                            <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2M10 9H14C15.1 9 16 9.9 16 11V22H14V18H10V22H8V11C8 9.9 8.9 9 10 9Z"/>
                        </svg>
                        <div style="color: #666; font-size: 12px; margin-top: 5px;">Mujer</div>
                    </div>
                </div>
                <input type="number" id="peso" placeholder="Peso corporal (kg)" style="font-size: 18px;">
                <button onclick="siguientePantalla('cerveza')" style="font-size: 18px;">Cerveza üç∫</button>
                <button onclick="siguientePantalla('vino')" style="font-size: 18px;">Vino üç∑</button>
                <button onclick="siguientePantalla('combinado')" style="font-size: 18px;">Combinado üç∏</button>
            </div>

            <div id="screen2Cerveza" class="screen">
                <h1>Cerveza üç∫</h1>
                <select id="tipoCerveza">
                    <option value="200">Cuarto (200ml)</option>
                    <option value="220">Quinto (220ml)</option>
                    <option value="330" selected>Tercio (330ml)</option>
                </select>
                <input type="number" id="unidadesCerveza" placeholder="Unidades consumidas" min="0">
                <button onclick="calcularResultado('cerveza')" class="big-button">Calcular</button>
                <button class="back-button" onclick="volverInicio()">Atr√°s</button>
            </div>

            <div id="screen2Vino" class="screen">
                <h1>Vino üç∑</h1>
                <select id="tipoVino">
                    <option value="frizzante">Frizzante</option>
                    <option value="tinto" selected>Tinto</option>
                    <option value="blanco">Blanco</option>
                </select>
                <input type="number" id="unidadesVino" placeholder="Unidades consumidas" min="0">
                <p>Una copa se estima en 150ml</p>
                <button onclick="calcularResultado('vino')" class="big-button">Calcular</button>
                <button class="back-button" onclick="volverInicio()">Atr√°s</button>
            </div>

            <div id="screen2Combinado" class="screen">
                <h1>Combinado üç∏</h1>
                <select id="tipoCombinado">
                    <option value="ron">Ron</option>
                    <option value="ginebra">Ginebra</option>
                    <option value="vodka">Vodka</option>
                    <option value="whisky">Whisky</option>
                </select>
                <select id="combinadaCon">
                    <option value="cola">Cola</option>
                    <option value="colaZero">Cola Zero</option>
                    <option value="gaseosaLimonNaranja">Gaseosa Lim√≥n/Naranja</option>
                    <option value="gaseosa">Gaseosa</option>
                    <option value="solo">Solo</option>
                </select>
                <input type="number" id="unidadesCombinado" placeholder="Unidades consumidas" min="0">
                <p class="subtle-message">Una copa se estima en 65ml, depende de tu camarero de confianza</p>
                <button onclick="calcularResultado('combinado')" class="big-button">Calcular</button>
                <button class="back-button" onclick="volverInicio()">Atr√°s</button>
            </div>

            <div id="screen3" class="screen">
                <h1>Resultado</h1>
                <button class="info-button" onclick="mostrarInformacion('calorias')">i</button>

                <p class="consumo-mensaje">Has consumido aproximadamente</p>
                <p class="calorias"><span id="resultadoCalorias">0</span> Kcal.</p>

                <p>Has consumido aproximadamente <span class="azucar" id="resultadoAzucar">0.00</span> gr de az√∫car.</p>

                <div id="registroConsumos" class="registro-consumos"></div>

                <button onclick="volverInicio()">Volver al inicio</button>
                <button onclick="anadirOtraBebida()">A√±adir otra bebida</button>
            </div>
        </div>

        <div id="alcoholimetro" style="display: none;">
            <div style="position: relative;">
                <button class="info-button" onclick="mostrarInformacion('alcoholimetro')">i</button>
            </div>

            <div id="alcoholimetroMensaje" style="display: block;">
                <div style="text-align: center; padding: 20px; color: #666;">
                    <i class="fas fa-tint" style="font-size: 48px; margin-bottom: 15px; color: #999;"></i>
                    <p style="font-size: 18px; margin-bottom: 10px;">No hay calculos de alcohol en sangre disponibles a√∫n</p>
                    <p style="font-size: 14px;">Calcula alguna bebida para comprobar su alcohol en sangre</p>
                </div>
            </div>

            <div id="alcoholimetroResultados" style="display: none;">
                <p id="nivelAlcoholMensaje" style="text-align: center;">Tu nivel de alcohol en sangre es aproximadamente:</p>
                <p id="nivelAlcoholValor" style="text-align: center; font-size: 3rem; font-weight: bold;"></p>

                <div id="advertencia" class="advertencia-amarilla">
                    Tu nivel de alcohol est√° por debajo del l√≠mite legal, pero recuerda que es mejor no conducir si has bebido.
                </div>

                <div id="taxiNumber">
                    <a href="#" onclick="extraerYLlamarTaxi(); return false;">Llamar a taxi</a>
                </div>

                <div id="trustedPhone">
                    <!-- El n√∫mero de tel√©fono de confianza se insertar√° aqu√≠ din√°micamente -->
                </div>

            </div>
        </div>

        <div id="registros" style="display: none;">
            <h2></h2>
            <div id="registrosContenido"></div>
        </div>
    </div>

    <div class="tabs">
        <a href="#" class="tab active" onclick="cambiarPestana('calorias')">
            <i class="fas fa-fire tab-icon"></i>
            <span>Calor√≠as</span>
        </a>
        <a href="#" class="tab" onclick="cambiarPestana('alcoholimetro')">
            <i class="fas fa-car tab-icon"></i>
            <span>Alcohol√≠metro</span>
        </a>
        <a href="#" class="tab" onclick="cambiarPestana('registros')">
            <i class="fas fa-clipboard-list tab-icon"></i>
            <span>Registros</span>
        </a>
    </div>
    <div class="version-info">HappyHours 1.1.4</div>
</div>

<div id="infoScreen" class="info-screen">
    <div class="info-content">
        <button class="close-info" onclick="cerrarInformacion()">&times;</button>
        <h2 id="infoTitle" class="info-title"></h2>
        <div id="infoMessage" class="info-message"></div>
    </div>
</div>

<script src="script.js"></script>
    <script>
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js');
}
</script>
</body>
</html>
